{"ast":null,"code":"import _toConsumableArray from\"/Users/IMF1/Desktop/projects/frontend-mentor/url-shortening-api-master/url-shortening-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/IMF1/Desktop/projects/frontend-mentor/url-shortening-api-master/url-shortening-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import axios from'axios';import DisplayLinks from'./DisplayLinks';import Loader from'react-loader-spinner';var LinkForm=function LinkForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),shortUrl=_useState4[0],setShortUrl=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),displayedLinks=_useState6[0],setDisplayedLinks=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];//const API_URL = `https://api.shrtco.de/v2/shorten?url=`\nvar API_URL=\"https://www.ifurl.page/api/genurl\";var changeHandler=function changeHandler(e){setUrl(e.target.value);};var onSubmit=function onSubmit(e){e.preventDefault();if(url===''){var form=document.querySelector('.link-form').firstChild;var input=document.querySelector('.form-input');var node=document.createElement('p');var message=document.createTextNode('Please add a link.');//if a user tries to submit an empty field, highlight the input red \n//and display message\ninput.style.border='4px solid hsl(0, 87%, 67%)';node.appendChild(message);node.style.color='hsl(0, 87%, 67%)';input.style.setProperty('--c','hsl(0, 87%, 67%)');node.style.fontSize='0.75rem';node.style.textAlign='left';if(window.screen.width<750){input.after(node);//after a second, revert back to normal\nsetTimeout(function(){input.style.border='none';input.style.setProperty('--c','hsl(257, 7%, 63%)');form.removeChild(form.childNodes[1]);},3000);}else{form.appendChild(node);setTimeout(function(){input.style.border='none';input.style.setProperty('--c','hsl(257, 7%, 63%)');form.removeChild(form.childNodes[2]);},3000);}}else{setIsLoading(true);axios.post(API_URL,{longUrl:url}).then(function(res){var data=res.data;setIsLoading(false);setShortUrl(data.shortUrl);setUrl('');});}};//push the shortened link to array whenever shortLink is updated\nuseEffect(function(){var obj={long:url,short:shortUrl};if(shortUrl!==''){setDisplayedLinks(function(d){return[].concat(_toConsumableArray(d),[obj]);});}},[shortUrl]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{className:\"link-form-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"link-form\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,method:\"POST\",children:[/*#__PURE__*/_jsx(\"input\",{required:true,placeholder:\"Shorten a link here...\",onChange:changeHandler,value:url,className:\"form-input\",type:\"url\"}),/*#__PURE__*/_jsx(\"button\",{className:\"form-submit-button\",type:\"submit\",children:\"Shorten It!\"})]}),isLoading?/*#__PURE__*/_jsx(Loader,{type:\"Oval\",color:\"#00BFFF\",height:30,width:30,className:\"loader\"}):null]})}),/*#__PURE__*/_jsx(DisplayLinks,{links:displayedLinks})]});};export default LinkForm;","map":{"version":3,"sources":["/Users/IMF1/Desktop/projects/frontend-mentor/url-shortening-api-master/url-shortening-api/src/components/LinkForm.js"],"names":["React","useEffect","useState","axios","DisplayLinks","Loader","LinkForm","url","setUrl","shortUrl","setShortUrl","displayedLinks","setDisplayedLinks","isLoading","setIsLoading","API_URL","changeHandler","e","target","value","onSubmit","preventDefault","form","document","querySelector","firstChild","input","node","createElement","message","createTextNode","style","border","appendChild","color","setProperty","fontSize","textAlign","window","screen","width","after","setTimeout","removeChild","childNodes","post","longUrl","then","res","data","obj","long","short","d"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios'\nimport DisplayLinks from './DisplayLinks'\nimport Loader from 'react-loader-spinner'\n\nconst LinkForm = () => {\n    const [url, setUrl] = useState('')\n    const [shortUrl, setShortUrl] = useState('')\n    const [displayedLinks, setDisplayedLinks] = useState([])\n    const [isLoading, setIsLoading] = useState(false)\n    //const API_URL = `https://api.shrtco.de/v2/shorten?url=`\n    const API_URL = `https://www.ifurl.page/api/genurl`\n\n    const changeHandler = (e) => {\n        setUrl(e.target.value)\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault()\n\n        if(url === ''){\n            const form = document.querySelector('.link-form').firstChild\n            const input = document.querySelector('.form-input')\n            const node = document.createElement('p')\n            const message = document.createTextNode('Please add a link.')\n\n            //if a user tries to submit an empty field, highlight the input red \n            //and display message\n            input.style.border = '4px solid hsl(0, 87%, 67%)'\n            node.appendChild(message)\n            node.style.color = 'hsl(0, 87%, 67%)'\n            input.style.setProperty('--c', 'hsl(0, 87%, 67%)')\n            node.style.fontSize = '0.75rem';\n            node.style.textAlign = 'left';\n            \n            if(window.screen.width < 750){\n                input.after(node)\n\n                //after a second, revert back to normal\n                setTimeout(\n                    function(){\n                        input.style.border = 'none'\n                        input.style.setProperty('--c', 'hsl(257, 7%, 63%)')\n                        form.removeChild(form.childNodes[1])\n                    }, 3000\n                )\n            }\n            else {\n                form.appendChild(node)\n\n                setTimeout(\n                    function(){\n                        input.style.border = 'none'\n                        input.style.setProperty('--c', 'hsl(257, 7%, 63%)')\n                        form.removeChild(form.childNodes[2])\n                    }, 3000\n                )\n            }\n            \n\n    \n        } else {\n            setIsLoading(true)\n            axios.post(API_URL, { longUrl: url})\n                .then(res => {\n                    const data = res.data\n                    setIsLoading(false)\n                    setShortUrl(data.shortUrl)\n                    setUrl('')\n                })\n        }\n    }\n\n    //push the shortened link to array whenever shortLink is updated\n    useEffect(() => {\n        const obj = {\n            long: url,\n            short: shortUrl\n        }\n\n        if(shortUrl !== ''){\n            setDisplayedLinks( d => [...d, obj])\n        }\n    }, [shortUrl])\n\n    return(\n        <>\n        <section className=\"link-form-container\">\n            <div className=\"link-form\">\n                <form onSubmit={onSubmit} method=\"POST\">\n                    <input required placeholder=\"Shorten a link here...\" onChange={changeHandler} value={url} className=\"form-input\" type=\"url\"></input>\n                    <button className=\"form-submit-button\" type=\"submit\">Shorten It!</button>\n                </form>\n                { isLoading ? <Loader type=\"Oval\" color=\"#00BFFF\" height={30} width={30} className=\"loader\" /> : null}\n            </div>\n        </section>\n        <DisplayLinks links={displayedLinks} />\n        </>\n    )\n}\n\nexport default LinkForm;\n"]},"metadata":{},"sourceType":"module"}