{"ast":null,"code":"import _slicedToArray from\"/Users/IMF1/Desktop/projects/frontend-mentor/url-shortening-api-master/url-shortening-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';var LinkCard=function LinkCard(_ref){var link=_ref.link;var originalUrl=link.long;var shortenedUrl=link.short;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),copied=_useState2[0],setCopied=_useState2[1];var copyUrl=function copyUrl(){var button=document.getElementById(\"\".concat(originalUrl));var copyText=document.querySelector('.copy-link').firstChild;var r=document.createRange();r.selectNode(copyText);if(!copied){window.getSelection().removeAllRanges();window.getSelection().addRange(r);document.execCommand(\"copy\");window.getSelection().removeAllRanges();button.style.backgroundColor=\"hsl(257, 27%, 26%)\";button.style.color=\"white\";button.innerHTML=\"Copied!\";setCopied(true);setTimeout(function(){button.style.backgroundColor=\"hsl(180, 66%, 49%)\";button.style.color=\"white\";button.innerHTML=\"Copy!\";setCopied(false);},3000);}};//sometimes the URL is too long for the display\n//this function truncates long URLs for the link card\nvar tooLong=function tooLong(longUrl){if(longUrl.length>25){var newUrl=[];for(var i=0;i<25;i++){newUrl.push(longUrl[i]);}return\"\".concat(newUrl.join(''),\"...\");}else{return longUrl;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"link-card\",children:[/*#__PURE__*/_jsx(\"p\",{children:tooLong(originalUrl)}),/*#__PURE__*/_jsxs(\"div\",{className:\"copy-link\",children:[/*#__PURE__*/_jsx(\"p\",{children:shortenedUrl}),/*#__PURE__*/_jsx(\"button\",{id:\"\".concat(originalUrl),className:\"copy-link-button\",onClick:copyUrl,children:\"Copy\"})]})]});};export default LinkCard;","map":{"version":3,"sources":["/Users/IMF1/Desktop/projects/frontend-mentor/url-shortening-api-master/url-shortening-api/src/components/LinkCard.js"],"names":["React","useState","LinkCard","link","originalUrl","long","shortenedUrl","short","copied","setCopied","copyUrl","button","document","getElementById","copyText","querySelector","firstChild","r","createRange","selectNode","window","getSelection","removeAllRanges","addRange","execCommand","style","backgroundColor","color","innerHTML","setTimeout","tooLong","longUrl","length","newUrl","i","push","join"],"mappings":"wSAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAY,IAAVC,CAAAA,IAAU,MAAVA,IAAU,CACzB,GAAMC,CAAAA,WAAW,CAAGD,IAAI,CAACE,IAAzB,CACA,GAAMC,CAAAA,YAAY,CAAGH,IAAI,CAACI,KAA1B,CAFyB,cAGGN,QAAQ,CAAC,KAAD,CAHX,wCAGlBO,MAHkB,eAGVC,SAHU,eAKzB,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClB,GAAMC,CAAAA,MAAM,CAAGC,QAAQ,CAACC,cAAT,WAA2BT,WAA3B,EAAf,CACA,GAAMU,CAAAA,QAAQ,CAAGF,QAAQ,CAACG,aAAT,CAAuB,YAAvB,EAAqCC,UAAtD,CAEA,GAAMC,CAAAA,CAAC,CAAGL,QAAQ,CAACM,WAAT,EAAV,CACAD,CAAC,CAACE,UAAF,CAAaL,QAAb,EAEA,GAAG,CAACN,MAAJ,CAAW,CACPY,MAAM,CAACC,YAAP,GAAsBC,eAAtB,GACAF,MAAM,CAACC,YAAP,GAAsBE,QAAtB,CAA+BN,CAA/B,EACAL,QAAQ,CAACY,WAAT,CAAqB,MAArB,EACAJ,MAAM,CAACC,YAAP,GAAsBC,eAAtB,GACAX,MAAM,CAACc,KAAP,CAAaC,eAAb,CAA+B,oBAA/B,CACAf,MAAM,CAACc,KAAP,CAAaE,KAAb,CAAqB,OAArB,CACAhB,MAAM,CAACiB,SAAP,CAAmB,SAAnB,CACAnB,SAAS,CAAC,IAAD,CAAT,CAEAoB,UAAU,CACN,UAAU,CACNlB,MAAM,CAACc,KAAP,CAAaC,eAAb,CAA+B,oBAA/B,CACAf,MAAM,CAACc,KAAP,CAAaE,KAAb,CAAqB,OAArB,CACAhB,MAAM,CAACiB,SAAP,CAAmB,OAAnB,CACAnB,SAAS,CAAC,KAAD,CAAT,CACH,CANK,CAMH,IANG,CAAV,CAQH,CACJ,CA1BD,CA4BA;AACA;AACA,GAAMqB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,OAAD,CAAa,CACzB,GAAGA,OAAO,CAACC,MAAR,CAAiB,EAApB,CAAwB,CACpB,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,EAAnB,CAAuBA,CAAC,EAAxB,CAA4B,CACxBD,MAAM,CAACE,IAAP,CAAYJ,OAAO,CAACG,CAAD,CAAnB,EACH,CACD,gBAAUD,MAAM,CAACG,IAAP,CAAY,EAAZ,CAAV,QACH,CAND,IAMO,CACH,MAAOL,CAAAA,OAAP,CACH,CACJ,CAVD,CAYA,mBACI,aAAK,SAAS,CAAC,WAAf,wBACI,mBAAID,OAAO,CAAC1B,WAAD,CAAX,EADJ,cAEI,aAAK,SAAS,CAAC,WAAf,wBACI,mBAAIE,YAAJ,EADJ,cAEI,eAAQ,EAAE,WAAKF,WAAL,CAAV,CAA8B,SAAS,CAAC,kBAAxC,CAA2D,OAAO,CAAEM,OAApE,kBAFJ,GAFJ,GADJ,CASH,CAxDD,CA0DA,cAAeR,CAAAA,QAAf","sourcesContent":["import React, {useState} from 'react'\n\nconst LinkCard = ({link}) => {\n    const originalUrl = link.long\n    const shortenedUrl = link.short\n    const [copied, setCopied] = useState(false)\n\n    const copyUrl = () => {\n        const button = document.getElementById(`${originalUrl}`)\n        const copyText = document.querySelector('.copy-link').firstChild\n        \n        const r = document.createRange()\n        r.selectNode(copyText)\n\n        if(!copied){\n            window.getSelection().removeAllRanges()\n            window.getSelection().addRange(r)\n            document.execCommand(\"copy\")\n            window.getSelection().removeAllRanges()\n            button.style.backgroundColor = \"hsl(257, 27%, 26%)\"\n            button.style.color = \"white\"\n            button.innerHTML = \"Copied!\"\n            setCopied(true)\n\n            setTimeout(\n                function(){\n                    button.style.backgroundColor = \"hsl(180, 66%, 49%)\";\n                    button.style.color = \"white\"\n                    button.innerHTML = \"Copy!\"\n                    setCopied(false)\n                }, 3000\n            )\n        }\n    }\n\n    //sometimes the URL is too long for the display\n    //this function truncates long URLs for the link card\n    const tooLong = (longUrl) => {\n        if(longUrl.length > 25) {\n            const newUrl = []\n            for(let i = 0; i < 25; i++) {\n                newUrl.push(longUrl[i])\n            }\n            return `${newUrl.join('')}...`\n        } else {\n            return longUrl\n        }\n    }\n\n    return(\n        <div className=\"link-card\">\n            <p>{tooLong(originalUrl)}</p>\n            <div className=\"copy-link\">\n                <p>{shortenedUrl}</p>\n                <button id={`${originalUrl}`} className=\"copy-link-button\" onClick={copyUrl}>Copy</button>\n            </div>\n        </div>\n    )\n}\n\nexport default LinkCard"]},"metadata":{},"sourceType":"module"}